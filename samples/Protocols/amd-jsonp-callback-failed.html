<!DOCTYPE html>
<html>
<head>
  <script src="../../node_modules/requirejs/require.js"></script>
  <script>
  /* global requirejs */
  requirejs.config({
    'baseUrl' : "../../src/",
    'paths': {
      // lib external
      'log4js' : "../node_modules/woodman/dist/woodman-amd",
      // config du logger
      "logger-cfg" : "Utils/Logger.cfg"
    }
  });

  requirejs(['Protocols/JSONP'],
  function (JSONP) {

    JSONP.call({
      url : 'fixtures/callback-failed.js',
      callbackName : "callbackFailed",
      onResponse : function (response) {
        console.log('Reponse :', response);
      },
      onFailure : function (error) {
        console.log('Erreur :', error);
      }
    });

  });
  </script>
  <script>
    // fonction definie par le client : callbackFailed is indefined !
    var myCallback = function (data) {
      console.log(data);
    };
  </script>
</head>
<body>
  <h1>Utilisation des modules natifs AMD sur les protocoles</h1>
  <span>(Ouvrir la console)</span>
</body>
</html>
