<!DOCTYPE html>
<html>

    <head>
        <script src="../../../lib/external/require.js"></script>
        <script>
            /* global requirejs */
            requirejs.config({
                'baseUrl' : "../../../src/",
                'paths': {
                    // lib external
                    "log4js": "../lib/external/woodman/woodman-amd",
                    'es6-promise': '../lib/external/es6-promise-4.1.0',
                    // config du logger
                    "logger-cfg" : "Utils/Logger.cfg"
                }
            });

            requirejs(["Services/Geocode/ReverseGeocode"],
            function (ReverseGeocode) {

                // cas de reponse OK
                var options = {
                   apiKey : 'jhyvi0fgmnuxvfv0zjzorvdn',
                   protocol : 'JSONP', // JSONP|XHR
                   httpMethod : 'POST', // GET|POST
                   rawResponse : true,
                   onSuccess : function (response) {console.log(response);},
                   onFailure : function (error) {console.log(error);},
                   // sp√©cifique au service
                   position: {
                         x : 48,
                         y : 2
                    },
                    srs : "EPSG:4326",
                    filterOptions :{
                        type : ['PositionOfInterest']
                    }
                };

                var obj = new ReverseGeocode(options);
                obj.call();
            });
        </script>
    </head>

    <body>
        <h1>Utilisation des modules natifs AMD</h1>
        <span>(Ouvrir la console)</span>
    </body>

</html>
