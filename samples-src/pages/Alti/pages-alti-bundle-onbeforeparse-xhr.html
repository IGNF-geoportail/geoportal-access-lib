{{#extend "layout-sample-bundle"}}

{{#content "head"}}
        <title>Service de Calcul Altimétrique</title>
{{/content}}

{{#content "style"}}
        <style></style>
{{/content}}

{{#content "body"}}
        <h1>Utilisation du Service de Calcul Altimétrique</h1>
        <h2>Avec les paramètres obligatoires seulement</h2>
{{/content}}

{{#content "js"}}
        var options = {
            apiKey : "{{ config.apiKey }}",
            protocol : "XHR",
            outputFormat : "xml",
            onSuccess : function (response) {
                print(response.elevations);
            },
            onBeforeParse : function (response) {
                console.log(response);
                // some stuff...
                // var newEle = response.createElement("property");
                // var newText= response.createTextNode("new");
                // newEle.appendChild(newText);
                // response.getElementsByTagName("elevation")[0].appendChild(newEle);
                return (typeof response === "string")
                    ? response
                    : new XMLSerializer().serializeToString(response.documentElement);
            },
            // spécifique au service
            positions : [{
                lon : 1.25,
                lat : 47.48
            }]
        };
        Gp.Services.getAltitude(options);
{{/content}}
{{/extend}}
